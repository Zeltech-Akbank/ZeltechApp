{% extends "layout.html" %}
{% block navbar %}
{% endblock %}
{% block body %}

<!-- Hamburger Menu -->
<button id="sidebarToggle" class="btn btn-secondary" style="position: fixed; z-index: 3; top: 10px; right: 10px;">
    ☰
</button>

<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <nav id="sidebar">
            <div class="d-flex justify-content-between align-items-center p-3">
                <h4>Admin Panel</h4>
            </div>
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link active" id="menu1" href="#">Lojistik Bilgisi Ekle</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="menu2" href="#">Lojistik Bilgisi Görüntüle</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="menu3" href="#">Afad Gönüllüsü Teyit Sistemi</a>
                </li>
            </ul>
            <div>
                  <button id="logoutButton" class="btn btn-danger">Çıkış Yap</button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 py-4">
            <div id="content">
                <h1>Hoşgeldiniz</h1>
                <p>Menüden bir öğe seçerek işlem yapmaya başlayabilirsiniz.</p>
            </div>
        </main>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="../static/js/admin_panel.js"></script>
    <script>
    // Çıkış yap düğmesine tıklanınca
    document.getElementById("logoutButton").addEventListener("click", function() {
        // Oturumu sonlandırmak için bir istek gönder
        $.ajax({
            url: '/logout', // Oturumu sonlandıran bir URL endpoint'i oluşturmalısınız
            type: 'POST',
            success: function(response) {
                // Oturum sonlandırıldığında kullanıcıyı login sayfasına yönlendir
                window.location.href = '/login'; // Login sayfasının URL'sini güncelleyin
            },
            error: function() {
                console.log('Çıkış yapılırken bir hata oluştu.');
            }
        });
    });
</script>

{% endblock %}
